
qmiparse
========

Overview
--------

qmiparse is a USB modem analyzer.  
qmiparse will generate parsed QMI message from Wireshark-exported text.  
qmiparse is written from qmicli using libqmi.  
qmiparse output text is generated by qmi_message_get_printable() of libqmi.

Build
-----

1. Setting `Makefile.am` and `qmiparse.c` into `src/qmicli` directory of libqmi.
2. Just `make`.

Usage
-----
1. Capture USB messages between host driver and USB modem by Wireshark+USBPcap on Windows.
2. Filter by `usb.control.Response` on Wireshark.
3. Export messages as a text file by `File -> Export Packet Dissections -> As Plain Text File` with these options:
    * Displayed = On
    * Packet summary line = Off
    * Packet details = Off
    * Packet bytes = On
    * Each packet on a new page = Off
4. `qmiparse <text filename exported by Wireshark>`

One line parser
---------------

If define `QMIPARSE_ONELINE`, can be used as one line parser.  
One message shall be copied like as:
1. Select one USB `Control response data` field of QMI message.
2. Copy one message by `Copy -> Hex stream`.
3. `qmiparse <Hex stream strings>`

Air
